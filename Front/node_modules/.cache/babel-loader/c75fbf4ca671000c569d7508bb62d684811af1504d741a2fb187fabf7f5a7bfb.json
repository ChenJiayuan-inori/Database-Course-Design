{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      token: [],\n      user: {\n        id: null,\n        username: \"\",\n        password: \"\",\n        createTime: null,\n        updateTime: null\n      },\n      admin: {\n        id: null,\n        username: \"\",\n        password: \"\",\n        createTime: null,\n        updateTime: null\n      }\n    };\n  },\n  methods: {\n    transfer: function () {\n      var title = document.querySelector(\".title\");\n      var loginBtn = document.getElementById(\"loginBtn\");\n      var passwordBtn = document.getElementById(\"Password\");\n      if (title.innerText === \"UserLogin\") {\n        title.innerText = \"AdminLogin\";\n        loginBtn.value = \"AdminLogin\";\n        passwordBtn.innerText = \"管理员登录\";\n        document.getElementById(\"username\").value = \"\";\n        document.getElementById(\"password\").value = \"\";\n        document.getElementById(\"username\").placeholder = \"Admin Username\";\n        document.getElementById(\"password\").placeholder = \"Admin Password\";\n      } else {\n        title.innerText = \"UserLogin\";\n        loginBtn.value = \"UserLogin\";\n        passwordBtn.innerText = \"用户登录\";\n        document.getElementById(\"username\").placeholder = \"Username\";\n        document.getElementById(\"password\").placeholder = \"Password\";\n      }\n    },\n    login: function () {\n      const that = this;\n      if (document.getElementById(\"loginBtn\") === \"AdminLogin\") {\n        this.$axios.post(\"/login/admin\", this.$data.user).then(function (ret) {\n          console.log(ret.data);\n          if (ret.data.code == 1) {\n            const token = ret.data.data;\n            localStorage.setItem(\"Token\", token);\n            that.$router.push(\"/backpage\");\n            that.$message({\n              type: \"success\",\n              message: \"Successfully Login!\"\n            });\n          } else {\n            document.getElementById(\"username\").value = \"\";\n            document.getElementById(\"password\").value = \"\";\n            that.$message({\n              type: \"error\",\n              message: \"Login with wrong username or password!\"\n            });\n          }\n        });\n      } else {}\n    },\n    welcome() {\n      this.$message({\n        type: \"success\",\n        message: \"Step into the world of English\",\n        duration: 1800\n      });\n    }\n  },\n  mounted() {\n    this.welcome();\n  }\n};","map":{"version":3,"names":["data","token","user","id","username","password","createTime","updateTime","admin","methods","transfer","title","document","querySelector","loginBtn","getElementById","passwordBtn","innerText","value","placeholder","login","that","$axios","post","$data","then","ret","console","log","code","localStorage","setItem","$router","push","$message","type","message","welcome","duration","mounted"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"mytest\" id=\"test\">\r\n        <div class=\"shell\">\r\n            <h2 class=\"title\">UserLogin</h2>\r\n            <input\r\n                type=\"text\"\r\n                id=\"username\"\r\n                v-model=\"user.username\"\r\n                placeholder=\"Username\"\r\n            />\r\n            <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                v-model=\"user.password\"\r\n                placeholder=\"Password\"\r\n            />\r\n            <input\r\n                type=\"submit\"\r\n                value=\"UserLogin\"\r\n                @click=\"login\"\r\n                id=\"loginBtn\"\r\n            />\r\n            <div class=\"footer\">\r\n                <button id=\"Password\" @click=\"transfer\">管理员登录</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            token: [],\r\n            user: {\r\n                id: null,\r\n                username: \"\",\r\n                password: \"\",\r\n                createTime: null,\r\n                updateTime: null,\r\n            },\r\n            admin: {\r\n                id: null,\r\n                username: \"\",\r\n                password: \"\",\r\n                createTime: null,\r\n                updateTime: null,\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        transfer: function () {\r\n            var title = document.querySelector(\".title\");\r\n            var loginBtn = document.getElementById(\"loginBtn\");\r\n            var passwordBtn = document.getElementById(\"Password\");\r\n            if (title.innerText === \"UserLogin\") {\r\n                title.innerText = \"AdminLogin\";\r\n                loginBtn.value = \"AdminLogin\";\r\n                passwordBtn.innerText = \"管理员登录\";\r\n                document.getElementById(\"username\").value = \"\";\r\n                document.getElementById(\"password\").value = \"\";\r\n                document.getElementById(\"username\").placeholder =\r\n                    \"Admin Username\";\r\n                document.getElementById(\"password\").placeholder =\r\n                    \"Admin Password\";\r\n            } else {\r\n                title.innerText = \"UserLogin\";\r\n                loginBtn.value = \"UserLogin\";\r\n                passwordBtn.innerText = \"用户登录\";\r\n                document.getElementById(\"username\").placeholder = \"Username\";\r\n                document.getElementById(\"password\").placeholder = \"Password\";\r\n            }\r\n        },\r\n\r\n        login: function () {\r\n            const that = this;\r\n            if (document.getElementById(\"loginBtn\") === \"AdminLogin\") {\r\n                this.$axios\r\n                    .post(\"/login/admin\", this.$data.user)\r\n                    .then(function (ret) {\r\n                        console.log(ret.data);\r\n                        if (ret.data.code == 1) {\r\n                            const token = ret.data.data;\r\n                            localStorage.setItem(\"Token\", token);\r\n                            that.$router.push(\"/backpage\");\r\n                            that.$message({\r\n                                type: \"success\",\r\n                                message: \"Successfully Login!\",\r\n                            });\r\n                        } else {\r\n                            document.getElementById(\"username\").value = \"\";\r\n                            document.getElementById(\"password\").value = \"\";\r\n                            that.$message({\r\n                                type: \"error\",\r\n                                message:\r\n                                    \"Login with wrong username or password!\",\r\n                            });\r\n                        }\r\n                    });\r\n            } else {\r\n                \r\n            }\r\n        },\r\n\r\n        welcome() {\r\n            this.$message({\r\n                type: \"success\",\r\n                message: \"Step into the world of English\",\r\n                duration: 1800,\r\n            });\r\n        },\r\n    },\r\n\r\n    mounted() {\r\n        this.welcome();\r\n    },\r\n};\r\n</script>\r\n\r\n<style src='../../public/css/base.css'  scoped></style>\r\n<style src='../../public/css/login.css' scoped></style>\r\n"],"mappings":";AA8BA;EACAA,KAAA;IACA;MACAC,KAAA;MACAC,IAAA;QACAC,EAAA;QACAC,QAAA;QACAC,QAAA;QACAC,UAAA;QACAC,UAAA;MACA;MACAC,KAAA;QACAL,EAAA;QACAC,QAAA;QACAC,QAAA;QACAC,UAAA;QACAC,UAAA;MACA;IACA;EACA;EACAE,OAAA;IACAC,QAAA,WAAAA,CAAA;MACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,aAAA;MACA,IAAAC,QAAA,GAAAF,QAAA,CAAAG,cAAA;MACA,IAAAC,WAAA,GAAAJ,QAAA,CAAAG,cAAA;MACA,IAAAJ,KAAA,CAAAM,SAAA;QACAN,KAAA,CAAAM,SAAA;QACAH,QAAA,CAAAI,KAAA;QACAF,WAAA,CAAAC,SAAA;QACAL,QAAA,CAAAG,cAAA,aAAAG,KAAA;QACAN,QAAA,CAAAG,cAAA,aAAAG,KAAA;QACAN,QAAA,CAAAG,cAAA,aAAAI,WAAA,GACA;QACAP,QAAA,CAAAG,cAAA,aAAAI,WAAA,GACA;MACA;QACAR,KAAA,CAAAM,SAAA;QACAH,QAAA,CAAAI,KAAA;QACAF,WAAA,CAAAC,SAAA;QACAL,QAAA,CAAAG,cAAA,aAAAI,WAAA;QACAP,QAAA,CAAAG,cAAA,aAAAI,WAAA;MACA;IACA;IAEAC,KAAA,WAAAA,CAAA;MACA,MAAAC,IAAA;MACA,IAAAT,QAAA,CAAAG,cAAA;QACA,KAAAO,MAAA,CACAC,IAAA,sBAAAC,KAAA,CAAAtB,IAAA,EACAuB,IAAA,WAAAC,GAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAA1B,IAAA;UACA,IAAA0B,GAAA,CAAA1B,IAAA,CAAA6B,IAAA;YACA,MAAA5B,KAAA,GAAAyB,GAAA,CAAA1B,IAAA,CAAAA,IAAA;YACA8B,YAAA,CAAAC,OAAA,UAAA9B,KAAA;YACAoB,IAAA,CAAAW,OAAA,CAAAC,IAAA;YACAZ,IAAA,CAAAa,QAAA;cACAC,IAAA;cACAC,OAAA;YACA;UACA;YACAxB,QAAA,CAAAG,cAAA,aAAAG,KAAA;YACAN,QAAA,CAAAG,cAAA,aAAAG,KAAA;YACAG,IAAA,CAAAa,QAAA;cACAC,IAAA;cACAC,OAAA,EACA;YACA;UACA;QACA;MACA,QAEA;IACA;IAEAC,QAAA;MACA,KAAAH,QAAA;QACAC,IAAA;QACAC,OAAA;QACAE,QAAA;MACA;IACA;EACA;EAEAC,QAAA;IACA,KAAAF,OAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}