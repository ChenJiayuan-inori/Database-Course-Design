{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      token: [],\n      user: {\n        \"id\": null,\n        \"username\": '',\n        \"password\": '',\n        \"createTime\": null,\n        \"updateTime\": null\n      },\n      admin: {\n        \"id\": null,\n        \"username\": '',\n        \"password\": '',\n        \"createTime\": null,\n        \"updateTime\": null\n      }\n    };\n  },\n  methods: {\n    transfer: function () {\n      var title = document.querySelector(\".title\");\n      var loginBtn = document.getElementById(\"loginBtn\");\n      var passwordBtn = document.getElementById(\"Password\");\n      if (title.innerText === \"UserLogin\") {\n        title.innerText = \"AdminLogin\";\n        loginBtn.value = \"AdminLogin\";\n        passwordBtn.innerText = \"管理员登录\";\n        document.getElementById(\"username\").value = \"\";\n        document.getElementById(\"password\").value = \"\";\n        document.getElementById(\"username\").placeholder = \"Admin Username\";\n        document.getElementById(\"password\").placeholder = \"Admin Password\";\n      } else {\n        title.innerText = \"UserLogin\";\n        loginBtn.value = \"UserLogin\";\n        passwordBtn.innerText = \"用户登录\";\n        document.getElementById(\"username\").placeholder = \"Username\";\n        document.getElementById(\"password\").placeholder = \"Password\";\n      }\n    },\n    login: function () {\n      const that = this;\n      this.$axios.post(\"/login\", this.$data.user).then(function (ret) {\n        console.log(ret.data);\n        if (ret.data.code == 1) {\n          const token = ret.data.data;\n          localStorage.setItem('Token', token);\n          that.$router.push('/backpage');\n        } else {\n          document.getElementById('username').value = '';\n          document.getElementById('password').value = '';\n          this.$message({\n            type: \"erroe\",\n            message: \"Login with wrong username or password!\"\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","token","user","admin","methods","transfer","title","document","querySelector","loginBtn","getElementById","passwordBtn","innerText","value","placeholder","login","that","$axios","post","$data","then","ret","console","log","code","localStorage","setItem","$router","push","$message","type","message"],"sources":["src/views/MyTest.vue"],"sourcesContent":["<template>\r\n  <div class=\"mytest\" id=\"test\">\r\n    <div class=\"shell\">\r\n      <h2 class=\"title\">UserLogin</h2>\r\n      <input type=\"text\" id=\"username\" v-model=\"user.username\" placeholder=\"Username\" />\r\n      <input type=\"password\" id=\"password\" v-model=\"user.password\" placeholder=\"Password\" />\r\n      <input type=\"submit\" value=\"UserLogin\" @click=\"login\" id=\"loginBtn\" />\r\n      <div class=\"footer\">\r\n        <button id=\"Password\" @click=\"transfer\">管理员登录</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      token : [],\r\n      user : {\r\n        \"id\": null,\r\n        \"username\": '',\r\n        \"password\": '',\r\n        \"createTime\": null,\r\n        \"updateTime\": null\r\n      },\r\n      admin : {\r\n        \"id\": null,\r\n        \"username\": '',\r\n        \"password\": '',\r\n        \"createTime\": null,\r\n        \"updateTime\": null\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    transfer: function () {\r\n      var title = document.querySelector(\".title\");\r\n      var loginBtn = document.getElementById(\"loginBtn\");\r\n      var passwordBtn = document.getElementById(\"Password\");\r\n      if (title.innerText === \"UserLogin\") {\r\n        title.innerText = \"AdminLogin\";\r\n        loginBtn.value = \"AdminLogin\";\r\n        passwordBtn.innerText = \"管理员登录\";\r\n        document.getElementById(\"username\").value = \"\";\r\n        document.getElementById(\"password\").value = \"\";\r\n        document.getElementById(\"username\").placeholder = \"Admin Username\";\r\n        document.getElementById(\"password\").placeholder = \"Admin Password\";\r\n      } else {\r\n        title.innerText = \"UserLogin\";\r\n        loginBtn.value = \"UserLogin\";\r\n        passwordBtn.innerText = \"用户登录\";\r\n        document.getElementById(\"username\").placeholder = \"Username\";\r\n        document.getElementById(\"password\").placeholder = \"Password\";\r\n      }\r\n    },\r\n\r\n    login: function (){\r\n      const that = this\r\n      this.$axios.post(\"/login\",this.$data.user\r\n      ).then(function (ret){\r\n        console.log(ret.data);\r\n        if(ret.data.code == 1){\r\n          const token = ret.data.data;\r\n          localStorage.setItem('Token',token);\r\n          that.$router.push('/backpage');\r\n        }\r\n        else{\r\n          document.getElementById('username').value = ''\r\n          document.getElementById('password').value = ''\r\n          this.$message({\r\n          type: \"erroe\",\r\n          message: \"Login with wrong username or password!\",\r\n        });\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style src='../../public/css/base.css'  scoped></style>\r\n<style src='../../public/css/login.css' scoped></style>\r\n"],"mappings":";AAgBA;EACAA,KAAA;IACA;MACAC,KAAA;MACAC,IAAA;QACA;QACA;QACA;QACA;QACA;MACA;MACAC,KAAA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,QAAA,WAAAA,CAAA;MACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,aAAA;MACA,IAAAC,QAAA,GAAAF,QAAA,CAAAG,cAAA;MACA,IAAAC,WAAA,GAAAJ,QAAA,CAAAG,cAAA;MACA,IAAAJ,KAAA,CAAAM,SAAA;QACAN,KAAA,CAAAM,SAAA;QACAH,QAAA,CAAAI,KAAA;QACAF,WAAA,CAAAC,SAAA;QACAL,QAAA,CAAAG,cAAA,aAAAG,KAAA;QACAN,QAAA,CAAAG,cAAA,aAAAG,KAAA;QACAN,QAAA,CAAAG,cAAA,aAAAI,WAAA;QACAP,QAAA,CAAAG,cAAA,aAAAI,WAAA;MACA;QACAR,KAAA,CAAAM,SAAA;QACAH,QAAA,CAAAI,KAAA;QACAF,WAAA,CAAAC,SAAA;QACAL,QAAA,CAAAG,cAAA,aAAAI,WAAA;QACAP,QAAA,CAAAG,cAAA,aAAAI,WAAA;MACA;IACA;IAEAC,KAAA,WAAAA,CAAA;MACA,MAAAC,IAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,gBAAAC,KAAA,CAAAjB,IACA,EAAAkB,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAArB,IAAA;QACA,IAAAqB,GAAA,CAAArB,IAAA,CAAAwB,IAAA;UACA,MAAAvB,KAAA,GAAAoB,GAAA,CAAArB,IAAA,CAAAA,IAAA;UACAyB,YAAA,CAAAC,OAAA,UAAAzB,KAAA;UACAe,IAAA,CAAAW,OAAA,CAAAC,IAAA;QACA,OACA;UACArB,QAAA,CAAAG,cAAA,aAAAG,KAAA;UACAN,QAAA,CAAAG,cAAA,aAAAG,KAAA;UACA,KAAAgB,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}